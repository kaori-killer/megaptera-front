# usehooks-ts

나만의 커스텀 훅을 만들어서 써야겠다. 여기 있는 것들을 이용해서 좀 더 나은 훅을 만드는 아이디어를 얻기 위해서 고민해라

## :whale2: 키워드

* usehooks-ts
  * useBoolean
  * useEffectOnce
  * useFetch
  * useInterval
  * useEventListener
  * useLocalStorage
  * useDarkMode
* swr
* react-query

## usehooks-ts

라이브러리이다. 타타입스크립트로 만들어놓음 자바스크립트에서도 쓸수있음
hook을 만드는데 많은 영감을 얻을 수있음

npm i usehooks-ts

분명 useStateㄹ 처리할 수 있다. 하지만 아래 usehooks-ts를 쓰면 해석을 하지 않아도 한 번에 알 수 있다.

### useBoolean

유영하게 많이씀
정말로 토글하는 거야

import { } from 'usehooks-ts';

const { value: playing, toggle:tooglePlaying } = useBoolean();

const handleClick = () = {
    tooglePlaying();
}

### useCounter

const { const, increase } = useCounter(0);

### useEffectOnce

유영하게 많이씀

useEffect로 의존성 배열로 빈 배열주면 처음부터 얘는 한번만 하는 거야라는 뜻
이건 바로 해석할 수 있는 것

useEffectOnce(()=> {})

이름을 명확히 하면 혜택이 크다.

### useFetch

별로 안씀

로딩중인지 에러인지도 준다. 이는 사용할 때 문서를 참고하자.

```tsx
export default useFetchProducts() {
    const url = 'http://localhost:3000/products';
    const { data } = useFetch(url);
    // 로딩중일때는 데이터가 안 들어오니까 문제가 된다. 그래서 빈배열
    if(!data) { reutrn []; }
    return data.products;
}
```
더 복잡한거?
실시간으로 데이터 바뀐 걸 캐시 전략
swr을 쓰면 된다.

더 복잡한거는 tanstackquery(react query)

### useInterval

interval쓸일이 있으면 무조건 이거 씀

직접 안 만들고 코드 만들어져있다. interval해야된다 싶으면 setinterval 쓰지 말고 useInterval 써라
그건 운 좋게 문제가 안되는 코드였고 실제로는 상태 같은 거에 물려있으면 대부분 문제가 되는 코드이다

### useEventListener

유영하게 많이씀

모든 종류의 이벤트를 확인

addeventlisten


customevent 할 때 좋음

아무데나 ㄱ클릭하면! antwhere

클릭 이벤트 같은 거 받는 ㅓㄱ보다 많이 쓰는 용도는
예를 들어, 로그인 하는데 외부랑 많이 물어있는 코드 중에 훅으로 하고 싶지 않고 아예 밖으로 빼고싶을 때 어딘가 컴포넌트로 몰아주거나 할 때 쓰면 편함
이벤트 일으림 -> 그걸 받아서 처리

### useLocalStorage


유영하게 많이씀
내부에서 적극적으로 쓴다. 

localStorage에 객체를 넣는 경우가 많다. strignpy parse자동으로 해줌

버튼을 눌렀더니 localStorage도 업데이트하고 다른데서도 씀

예를 들어, 다크모드세팅

로컬스토리지 쓰는 이유: 새로고침을 하거나 무슨 일이 있어나도 다크모드 여부가 유지되게 하기 위해서

다크 모드로 바뀌었다는 사실을 알아야 하는데 우리가 일부러 이벤트를 일으켜야함 그래서 처리
근데 얘는 알아서 처리됨 

바꾸면 다른 컴포넌트에 있는 다크테마도 바꿔줌

### useDarkMode

유영하게 많이씀
다크테마 여부

## 메모

useEffect 타이머 문제 12:30